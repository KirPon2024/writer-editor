{
  "schemaVersion": "v1",
  "hashSchemaVersion": "v2",
  "createdAtUtc": "2026-02-18T21:29:37.022Z",
  "owner": "GPT+CODEX",
  "status": "EXPERIMENTAL_CANON",
  "singleEntry": {
    "commandPrefix": "node scripts/ops/codex-run.mjs"
  },
  "determinismHashInputs": [
    "BASE_SHA",
    "MODE",
    "TIER",
    "ALLOWLIST_HASH",
    "LOCKFILE_HASH",
    "CHANGED_FILES_CONTENT_DIGEST",
    "RUNNER_VERSION"
  ],
  "envHashInputs": [
    "os",
    "arch",
    "nodeVersion",
    "locale",
    "timezone"
  ],
  "hashReusePolicy": {
    "reuseAllowedWhen": "determinismHash_exact_match",
    "envHashMismatch": "warn_only"
  },
  "batchPolicy": {
    "maxMainTZPerBatch": 3,
    "maxPatchPerMainTZ": 2,
    "maxIterationsTotal": 3,
    "maxControlledAllowlistExpansionsPerUnit": 1,
    "maxIterationsWithoutForwardDiff": 3
  },
  "patchConstraints": {
    "maxFiles": 5,
    "maxLines": 150
  },
  "stagnationPolicy": {
    "defaultRepeats": 2,
    "networkRepeats": 3,
    "contextRepeats": 3
  },
  "failurePolicy": {
    "retryable": {
      "retries": 2,
      "afterExhaustion": "HUMAN_REQUIRED",
      "reason": "NETWORK_UNSTABLE"
    },
    "humanRequiredNotCountAsPatch": true
  },
  "resumePolicy": {
    "snapshotPath": "docs/OPS/CACHE/codex-run/<ticket>.resume.json",
    "persistOn": [
      "RETRYABLE_FAIL",
      "HUMAN_REQUIRED"
    ],
    "deleteOn": [
      "MERGE_SUCCESS"
    ]
  },
  "cachePolicy": {
    "cachePaths": [
      "docs/OPS/CACHE/**"
    ],
    "mustBeIgnored": true,
    "stagingForbidden": true,
    "blockFailReason": "CACHE_SCOPE_LEAK",
    "cacheRoot": "docs/OPS/CACHE/",
    "rule": "EPHEMERAL_ONLY",
    "stagedCacheIsBlockFail": true
  },
  "artifactPolicy": {
    "allowedCommittedArtifactsPrefixes": [
      "docs/OPS/EXECUTION/",
      "docs/OPS/GOVERNANCE_APPROVALS/"
    ]
  },
  "prPolicy": {
    "prBodyMode": "--body-file only",
    "requiredChecksWait": {
      "pollSeconds": 20,
      "timeoutSeconds": 600,
      "onTimeout": "HUMAN_REQUIRED"
    },
    "branchProtection": "HUMAN_REQUIRED until satisfied"
  },
  "antiSwapPolicy": {
    "alwaysBlockingForMerge": true
  }
}

# M2 — Text Skeleton + IPC

## 2.1 Название этапа
- M2 — Text Skeleton + IPC

## 2.2 Цель этапа
- Текст живёт в editor engine (renderer)
- Core не хранит живое состояние текста
- Main получает текст только через IPC по запросу

## 2.3 Реализовано (канон)
- TipTap skeleton подключён
- IPC контракт:
  - `editor:text-request`
  - `editor:text-response`
- Реализован IPC bridge:
  - `attachTiptapIpc(editor)`
- Отсутствуют запрещённые логи:
  - `[tiptap]`
  - `[legacy]`
- Выполнены CHECK-01 … CHECK-12
- Diff-budget ≤ 12 insertions относительно `cf11a34`
- `ipc.js` tracked в git

## 2.4 Инварианты M2 (запрещено нарушать далее)
- Запрещено:
  - прямое чтение текста из renderer без IPC
  - хранение текста в Main/Core
  - использование `getHTML()` / `getJSON()`
  - добавление логов `[tiptap]`, `[legacy]`
- IPC остаётся единственным каналом получения текста

## 2.5 Что НЕ входит в M2
- Save / Save As
- File I/O
- UI-меню
- Command system
- Плагины
- Режимы
- Дизайн
- Кроссплатформенность

## 2.6 Статус
- Этап закрыт
- Допустимы только изменения этапов ≥ M2.5

# ADR-CONTRACTS-TOPOLOGY-v2

## CONTEXT
Репозиторий содержит `src/contracts/*` как отдельный каталог контрактов.
Каталога `packages/` в репозитории нет.

При этом в репозитории также существует `src/core/contracts.ts` (и потенциальные расширения в `src/core/contracts/*`), что создаёт риск дрейфа “source of truth” при росте проекта и появлении параллельных топологий.

Этот документ вводится как уточнение текущего состояния и замена устаревшего контекста из `docs/ADR/ADR-CONTRACTS-TOPOLOGY.md` без изменения исходного решения.

## DECISION
**Source of truth for public contracts: `src/contracts/*`.**

## CONSEQUENCES
- Все новые публичные контракты (types/shapes) создаются в `src/contracts/*`.
- Контракты внутри `src/core/*` считаются CORE-внутренними (или временными), но не “каноническим каталогом публичных контрактов”.
- Любые future tooling/guards ориентируются на `src/contracts/*`.
- `packages/contracts/*` запрещён как топология до отдельного этапа и отдельного ADR.

## MIGRATION_NOTE
- Любые пересечения между `src/core/contracts.ts` и `src/contracts/*` должны быть разрешены отдельной миграционной задачей (без неявного дрейфа типов).
- Этот ADR не определяет политику совместимости/миграций данных; такие решения фиксируются отдельными ADR.


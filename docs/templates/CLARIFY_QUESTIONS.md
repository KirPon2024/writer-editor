# Наводящие вопросы (банк уточнений, max 3 за задачу)

Используйте этот список, чтобы быстро “доточить” ТЗ. В каждой задаче задаём **максимум 3** high‑impact вопроса.

## Редактор (ввод/выделение/рендер/undo)
- Что является “источником правды”: plain text, DOM, модель?
- Нужно ли сохранять маркеры видимыми/приглушёнными или прятать?
- Какие операции обязаны сохранять выделение/курсор идеально? (apply style, paste, undo, find)
- Есть ли требования к производительности (размер текста, частота перерендера)?
- Что важнее: нативный undo или допустим простой undo‑стек?

## Поиск (MVP)
- Поиск где: в текущем документе / по проекту / по всем файлам папки?
- Нужны ли: подсветка совпадений, “следующее/предыдущее”, замена, regex?
- Поиск должен быть live (по мере ввода) или по Enter?
- Какой UX: панель в тулбаре, модалка, горячая клавиша?
- Что считается “проектом”: один файл или папка с множеством документов?

## История версий / ревизии
- Это версия “по времени” (каждые N минут) или “по событиям” (сохранение/коммит)?
- Как хранить: диффы или полные снапшоты? (лимит размера/ретеншн)
- UX восстановления: просмотр списка версий, сравнение, “restore as copy”?
- Что делать с автосейвом и бэкапами: они заменяют историю или дополняют?

## Экспорт
- Какие форматы first: PDF / DOCX / HTML / Markdown / ePub?
- Экспорт из чего: из plain text + маркеры, или из “styled view”?
- Нужны ли: шрифты/стили в экспорте, оглавление, разрывы страниц?
- Где хранить настройки экспорта (профили)?

## Метрики / прогресс письма
- Какие метрики MVP‑первым: word count / daily goal / таймер / скорость печати?
- Как считать скорость: WPM по словам или CPM по символам? С паузами?
- Где показывать: статус‑бар, отдельная панель, тулбар?
- Что сохраняем между сессиями: история по дням/неделям или только текущий счётчик?

## Проект / структура (sidebar)
- Структура обязательна или опциональна (одиночный документ тоже ок)?
- Элементы дерева: книга/глава/сцена/заметка/папка?
- Хранение: один файл или много файлов? (это влияет на поиск/историю/синхронизацию)
- Нужны ли “карточки/коркборд” как альтернативный режим просмотра?

## UI (пиксель‑в‑пиксель / микрогеометрия)
- Что именно является “референсом истины”: скрин, Figma, видео, или “как в X приложении”?
- Какие 2–4 **инварианта** нельзя нарушать? (например: “иконка не прыгает”, “вертикаль обрывается по центру последней строки”)
- Точка привязки по X: от чего меряем (левый padding контейнера / центр indent / край иконки)?
- Точка привязки по Y: от чего меряем (центр строки = row-height/2 / baseline текста / верх/низ строки)?
- Какие размеры фиксированы (px), а какие можно оставлять относительными/через CSS vars?
- Можно ли добавлять хуки в DOM (например `data-is-last`, `data-expanded`) или нужно обойтись текущими (`data-level`, `.is-last`)?
- В каких состояниях нужно проверить геометрию: hover/selected, collapsed/expanded, light/dark, разные ширины sidebar?

## Облако / коллаб (после MVP)
- Модель синхронизации: “папка файлов” (git‑friendly) или один архив/БД?
- Конфликты: как решаем и как показываем пользователю?
- Коллаб: курсоры, комментарии, права доступа, история изменений?

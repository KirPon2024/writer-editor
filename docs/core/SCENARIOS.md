# SCENARIOS (A4 Anchor)

Архитектура развивается только как следствие сценариев.

## SCN-01
### Intent
Зафиксировать минимальную “ось” CORE: из (CoreState, CoreCommand) получить следующий CoreState и наблюдаемое изменение как CoreEvent.

### Input
- CoreState (текущее состояние)
- CoreCommand (намерение пользователя/системы)

### Output
- CoreState (следующее состояние)
- CoreEvent (наблюдаемое изменение)

### Observables
- CoreEvent: внешний слой может логировать/отображать/тестировать изменения, не читая внутренности CoreState.

### Pressure on CORE (why this scenario forces change)
- Нужна единая форма описания перехода состояния и “видимого результата” без привязки к UI и без реализации.

### Non-goals
- Определение структуры CoreState/CoreCommand/CoreEvent.
- Любая реализация, хранение, UI-интеграция.

## SCN-02
### Intent
Обработать “обычную” команду, которая меняет CoreState детерминированно и полностью описывает эффект через CoreEvent.

### Input
- CoreState
- CoreCommand

### Output
- CoreState
- CoreEvent

### Observables
- CoreEvent: “что изменилось” на уровне продукта (не на уровне UI).

### Pressure on CORE (why this scenario forces change)
- Нужен редьюсер/движок, который гарантирует: одинаковый (state, command) даёт одинаковый результат, а эффект выражен событиями.

### Non-goals
- Расширение реестров, типов команд/событий, портов.
- Дизайн доменной модели сцен/проекта.

## SCN-03
### Intent
Обработать команду, которая требует внешнего взаимодействия (через порты), не выполняя IO внутри CORE.

### Input
- CoreState
- CoreCommand
- Порты как абстракция (без реализации)

### Output
- CoreState
- CoreEvent

### Observables
- CoreEvent фиксирует необходимость внешнего шага (через порты) и/или результат внешнего шага как наблюдаемое изменение.

### Pressure on CORE (why this scenario forces change)
- Нужен согласованный способ “попросить внешний мир” и продолжить сценарий, оставаясь offline-first и без скрытых сайд-эффектов.

### Non-goals
- Описание конкретных портов, протоколов, форматов данных, IPC, файловой системы.
- Асинхронная оркестрация и реализация эффектов.

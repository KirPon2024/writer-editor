# Codex TЗ Checklist (короткий)

> Цель: сделать ТЗ детерминированным, чтобы агент не “обобщал” и не приходилось переделывать много раз.

- [ ] **Один запрос = одно действие** (одна цель, без “заодно”)
- [ ] **Файлы**: перечислены явно; всё остальное запрещено
- [ ] **Diff budget**: ограничение масштаба (строки/блоки/файлы), запрет на форматирование/рефакторинг
- [ ] **Источник правды**: что считать идеалом (скрин/Figma/node-id/описание) + приоритет источников
- [ ] **Инварианты**: 3–7 пунктов “что не меняется” (поведение/геометрия/состояния)
- [ ] **Числа**: где нужно — px/переменные/формулы вместо “чуть/примерно”
- [ ] **Хуки**: на какие селекторы/атрибуты/классы опираться; что можно добавить минимально
- [ ] **Глоссарий UI**: термины “toggle/root/leaf/полка/вертикаль/…” определены однозначно (если задача про UI)
- [ ] **Запрещённые решения**: 3–5 пунктов “не делать так”
- [ ] **Матрица состояний**: 4–6 режимов проверки (collapsed/expanded, selected, hover, light/dark, widths)
- [ ] **Приёмка**: чек‑лист [ ] с измеримыми критериями
- [ ] **Тесты**: точные шаги “клик/команда → ожидаемый результат”
- [ ] **Output contract**: формат ответа Codex (изменённые файлы + `path:line` + что проверено/не проверено)
- [ ] **Стоп‑протокол**: если данных не хватает — остановиться и задать 1–3 high‑impact вопроса
